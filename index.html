<!DOCTYPE html>
<html>
  <head>
    <link rel="stylesheet" type:"text/css" href="style.css">
    <script src="jquery.js"></script>
    <script src="data_generator.js"></script>
  </head>
  <body >
<script type="text/javascript">

  function showTweets(userName,id){
    console.log(id)
     $('#showMessageUser').show();
      $('#showMessage').hide();
      counter=1;
      $(document).ready(function(){
        $("#showMessageUser").html("")
    for(var key in streams.home){

      //console.log(streams.home[key])
     if(streams.home[key].user === userName)
      
     {
      
       var tweet=streams.home[key];
                var $tweet = $('<p  id="userid'+count+'" onclick="$(\'#showMessageUser\').html(\''+tweet.message+'\');"></p>');
            var tweetWall='@' + tweet.user+"<br><span class='tweetBody'> "+tweet.message+"</span><br><span class='countStyler'>Tweet#: "+counter+"</span><br><span id='dateOfTweet'>"+tweet.created_at+"</span>";
          $tweet.html(tweetWall);
          $tweet.prependTo($('#showMessageUser'));      
     }



            }
   //change button
$("#"+id).text("Hide Tweets");
$("#"+id).attr("class","red");

$("#"+id).attr("onclick","hideTweets('"+userName+"','"+id+"')");
   counter++;
    
       });//end of Jquery
  }


  function hideTweets(userName,id){
     $('#showMessageUser').hide();
      $('#showMessage').show();
     $("#"+id).text("showTweets");
     $("#"+id).attr("onclick","showTweets('"+userName+"','"+id+"')");
          if($("#"+id).hasClass("red")){
          $("#"+id).removeClass( "red" );
      }

  }
//add Button for new
  $(function(){
    $("#addBtn").click(function(){
      if($("#visitorTwitter").val()){
        writeTweet($("#visitorTwitter").val());

       $("#tweetAdded").html("your tweet ( "+$("#visitorTwitter").val()+" ) has been added");
       $("#visitorTwitter").val("")
        setTimeout(function(){ $("#tweetAdded").text("add More.."); } , Math.random() * 10500);

      }  
        else{
          $("#visitorTwitter").attr("class","red");
           $("#tweetAdded").text("write something to TWEET");
           $("#tweetAdded").attr("class","red");
        setTimeout(function(){ $("#tweetAdded").text("Tweet Somthing..."); } , Math.random() * 5500);

          //alert("Write Somthing to tweet")
        } 
    })

  })  

</script>

<table width="100%" border="0">

    <tr>
          <td width="30%">
             <h1>twitter</h1>
          </td>
          <td>
            <input type="text" id="visitorTwitter" >
            <button id="addBtn" >Add Tweet</button>
            <span id="tweetAdded"></span>
          </td>
    </tr>
    <tr>
                  <td width="30%" class="fixed">
                    <u><b><h1>Active Users</h1></b></u>
                    <ul id="activeUsers"> </ul>
                  </td>
                  <td>
                    <div id="showMessage"  > </div>
                    <div id="showMessageUser" class="hide" > </div>
                  </td>
    </tr>
</table>
    

  </body>
</html>
